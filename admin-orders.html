<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–í—Å–µ –∑–∞–∫–∞–∑—ã</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <nav class="main-nav">
    <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
    <a href="catalog.html">–ö–∞—Ç–∞–ª–æ–≥</a>
    <a href="dashboard.html">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
    <a href="cart.html">–ö–æ—Ä–∑–∏–Ω–∞</a>
    <a href="admin-orders.html" class="active">–ó–∞–∫–∞–∑—ã</a>
    <button class="theme-toggle">üåô</button>
  </nav>

  <section class="checkout">
    <h2>üìã –í—Å–µ –∑–∞–∫–∞–∑—ã</h2>
    <div id="orders-container"></div>
  </section>

  <script>
    // –ü–ª–∞–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
    window.addEventListener('load', () => {
      document.body.classList.add('loaded');
    });

    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
    const toggleBtn = document.querySelector('.theme-toggle');
    toggleBtn.addEventListener('click', () => {
      document.body.classList.toggle('dark');
      toggleBtn.textContent = document.body.classList.contains('dark') ? '‚òÄÔ∏è' : 'üåô';
    });

    // –í—ã–≤–æ–¥ –∑–∞–∫–∞–∑–æ–≤ –∏–∑ localStorage
    const orders = JSON.parse(localStorage.getItem("orders") || "[]");
    const container = document.getElementById("orders-container");

    if (orders.length === 0) {
      container.innerHTML = "<p>–ó–∞–∫–∞–∑–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç.</p>";
    } else {
      orders.forEach((order, index) => {
        const block = document.createElement("div");
        block.className = "order-block";
        block.innerHTML = `
          <h3>–ó–∞–∫–∞–∑ #${index + 1}</h3>
          <p><strong>–ò–º—è:</strong> ${order.name}</p>
          <p><strong>Email:</strong> ${order.email}</p>
          <p><strong>ID:</strong> ${order.id}</p>
          <p><strong>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:</strong> ${order.comment || '‚Äî'}</p>
          <p><strong>–°—É–º–º–∞:</strong> ‚ÇΩ${order.total}</p>
          <p><strong>–î–∞—Ç–∞:</strong> ${new Date(order.createdAt).toLocaleString()}</p>
          <ul>
            ${order.cart.map(item => `<li>${item.name} ‚Äî ${item.price}‚ÇΩ</li>`).join("")}
          </ul>
          <hr />
        `;
        container.appendChild(block);
      });
    }
  </script>
</body>
</html>
